<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="../favicon.ico" sizes="any">
    <link rel="icon" href="../favicon.svg" type="image/svg+xml">
    <meta name="theme-color" content="#0969da">
    <meta name="color-scheme" content="light dark">
    <meta name="author" content="Fynks">
    <title>Markdown Table Editor & Analyzer</title>
    <link rel="stylesheet" href="css/styles-min.css">
    <script src="js/app-min.js" defer></script>
    <meta name="description"
        content="Effortlessly create, edit, and analyze Markdown tables with this online tool. Features live editing, sorting, reordering, and dark mode support.">
</head>

<body>

    <header class="app-header" role="banner">
        <h1>
           Markdown Table Editor & Analyzer
        </h1>
        <button class="theme-toggle" id="themeToggle" aria-label="Toggle between light and dark mode" type="button">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" class="icon" aria-hidden="true">
                <path class="sun"
                    d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"
                    style="display:none" />
                <path class="moon"
                    d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
            </svg>
        </button>
    </header>

    <main id="main-content" class="container" role="main">
        <!-- Input Section -->
        <section class="tool-section input-section" aria-labelledby="input-heading">
            <h2 id="input-heading" class="section-title">
                <span role="img" aria-label="Input icon">üìù</span>
                Input Markdown Table
            </h2>
            <div class="form-group">
                <label for="input">Paste or type your Markdown table here:</label>
                <textarea 
                    id="input" 
                    aria-describedby="input-help"
                    placeholder="| Header 1 | Header 2 | Header 3 |&#10;|----------|----------|----------|&#10;| Row 1    | Data     | More     |&#10;| Row 2    | Info     | Content  |"
                    spellcheck="false"
                    autocomplete="off"
                    rows="8"></textarea>
                <div id="input-help" class="form-help">
                    Supports standard Markdown table format with pipes (|) and alignment markers
                </div>
            </div>
            
            <nav class="controls-toolbar" role="toolbar" aria-label="Main controls">
                <button id="parseBtn" class="btn btn-primary" aria-label="Parse the input table" type="button">
                    <span class="icon" aria-hidden="true">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106A1.532 1.532 0 0111.49 3.17zM10 13a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd" />
                        </svg>
                    </span>
                    <span>Parse Table</span>
                </button>
                
                <button id="clearBtn" class="btn btn-secondary" aria-label="Clear all data" type="button">
                    <span class="icon" aria-hidden="true">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.58.177-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.52.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5zM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25V4c.827-.05 1.66-.075 2.5-.075zM8.47 5.026c.54.166 1.054.35 1.53.554V17.5h-1.521L8.47 5.026zM11.53 5.58c.474-.204.99-.387 1.53-.554L11.522 17.5H10V5.58z" clip-rule="evenodd" />
                        </svg>
                    </span>
                    <span>Clear All</span>
                </button>
                
                <button id="copyOutputBtn" class="btn copy-btn" aria-label="Copy output to clipboard" type="button">
                    <span class="icon" aria-hidden="true">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M7 3.5A1.5 1.5 0 018.5 2h3.879a1.5 1.5 0 011.06.44l3.122 3.12A1.5 1.5 0 0117 6.622V12.5a1.5 1.5 0 01-1.5 1.5h-1v-3.379a3 3 0 00-.879-2.121L10.5 5.379A3 3 0 008.379 4.5H7v-1z" />
                            <path d="M4.5 6A1.5 1.5 0 003 7.5v9A1.5 1.5 0 004.5 18h7a1.5 1.5 0 001.5-1.5v-5.879a1.5 1.5 0 00-.44-1.06L9.44 6.439A1.5 1.5 0 008.378 6H4.5z" />
                        </svg>
                    </span>
                    <span>Copy Output</span>
                </button>
                
                <div class="keyboard-shortcuts" role="note" aria-label="Keyboard shortcuts">
                    <small>
                        <kbd>Ctrl+Enter</kbd> Parse ‚Ä¢ <kbd>Ctrl+Z</kbd> Undo ‚Ä¢ <kbd>Ctrl+Y</kbd> Redo
                    </small>
                </div>
            </nav>
        </section>

        <!-- Interactive Editor Section -->
        <section class="tool-section editor-section" aria-labelledby="edit-heading">
            <h2 id="edit-heading" class="section-title">
                <span role="img" aria-label="Edit icon">‚úèÔ∏è</span>
                Interactive Table Editor
            </h2>
            
            <nav class="controls-toolbar" role="toolbar" aria-label="Table editing controls">
                <div class="control-group">
                    <button id="addRowBtn" class="btn" aria-label="Add new row to table" type="button">
                        <span class="icon" aria-hidden="true">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                <path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z" />
                            </svg>
                        </span>
                        <span>Add Row</span>
                    </button>
                    
                    <button id="removeRowBtn" class="btn btn-secondary" aria-label="Remove last row from table" type="button">
                        <span class="icon" aria-hidden="true">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M4 10a.75.75 0 01.75-.75h10.5a.75.75 0 010 1.5H4.75A.75.75 0 014 10z" clip-rule="evenodd" />
                            </svg>
                        </span>
                        <span>Remove Row</span>
                    </button>
                </div>
                
                <div class="control-group">
                    <button id="addColumnBtn" class="btn" aria-label="Add new column to table" type="button">
                        <span class="icon" aria-hidden="true">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                <path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z" />
                            </svg>
                        </span>
                        <span>Add Column</span>
                    </button>
                    
                    <button id="removeColumnBtn" class="btn btn-secondary" aria-label="Remove last column from table" type="button">
                        <span class="icon" aria-hidden="true">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M4 10a.75.75 0 01.75-.75h10.5a.75.75 0 010 1.5H4.75A.75.75 0 014 10z" clip-rule="evenodd" />
                            </svg>
                        </span>
                        <span>Remove Column</span>
                    </button>
                </div>
                
                <div class="control-group">
                    <button id="sortRowsBtn" class="btn" aria-label="Sort rows alphabetically by first column" type="button">
                        <span class="icon" aria-hidden="true">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M10 3a.75.75 0 01.55.24l3.25 3.5a.75.75 0 11-1.1 1.02L10 4.852 7.3 7.76a.75.75 0 01-1.1-1.02l3.25-3.5A.75.75 0 0110 3zm-3.76 9.2a.75.75 0 011.06.04L10 15.148l2.7-2.908a.75.75 0 111.1 1.02l-3.25 3.5a.75.75 0 01-1.1 0l-3.25-3.5a.75.75 0 01.04-1.06z" clip-rule="evenodd" />
                            </svg>
                        </span>
                        <span>Sort Rows</span>
                    </button>
                    
                    <button id="reorderBtn" class="btn" aria-label="Toggle drag and drop reorder mode" type="button">
                        <span class="icon" aria-hidden="true">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                <path d="M10 3.75a2 2 0 10-4 0 2 2 0 004 0zM17.25 4.5a.75.75 0 000-1.5h-5.5a.75.75 0 000 1.5h5.5zM5 7.5a.75.75 0 01.75-.75h8.5a.75.75 0 010 1.5h-8.5A.75.75 0 015 7.5zM5 11.25a.75.75 0 01.75-.75h8.5a.75.75 0 010 1.5h-8.5a.75.75 0 01-.75-.75zM5 15a.75.75 0 01.75-.75h8.5a.75.75 0 010 1.5h-8.5A.75.75 0 015 15z" />
                            </svg>
                        </span>
                        <span>Re-order</span>
                    </button>
                </div>
            </nav>

            <div class="table-container" role="region" aria-label="Editable table" aria-live="polite">
                <div class="table-scroll" id="tableContainer">
                    <!-- Table will be rendered here -->
                </div>
            </div>
        </section>

        <!-- Advanced Operations Section -->
        <section class="tool-section advanced-ops-section" aria-labelledby="advanced-heading">
            <details id="advancedOpsDetails">
                <summary role="button" aria-expanded="false" class="section-title-summary" tabindex="0">
                    <h2 id="advanced-heading" class="section-title">
                        <span role="img" aria-label="Advanced icon">‚öôÔ∏è</span>
                        Advanced Operations
                    </h2>
                </summary>
                <div class="advanced-ops-content">
                    <div class="info-banner" role="note">
                        <span role="img" aria-label="Info">‚ÑπÔ∏è</span>
                        These operations work with service/provider tables where the first column contains service names and subsequent columns represent different providers.
                    </div>
                    
                    <div class="form-group">
                        <label for="newProviderName">New Provider/Column Name:</label>
                        <input 
                            type="text" 
                            id="newProviderName" 
                            placeholder="e.g., AwesomeDebrid, NewProvider"
                            aria-describedby="provider-help"
                            autocomplete="off">
                        <div id="provider-help" class="form-help">
                            Enter the name of the new provider/service column to add
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="supportedServices">Supported Services (comma-separated):</label>
                        <input 
                            type="text" 
                            id="supportedServices" 
                            placeholder="e.g., 1Fichier, Rapidgator, Uploadgig"
                            aria-describedby="services-help"
                            autocomplete="off">
                        <div id="services-help" class="form-help">
                            List the services that this provider supports, separated by commas
                        </div>
                    </div>
                    
                    <button id="addProviderBtn" class="btn btn-primary" aria-label="Add provider and update table" type="button">
                        <span class="icon" aria-hidden="true">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm.75-11.25a.75.75 0 00-1.5 0v2.5h-2.5a.75.75 0 000 1.5h2.5v2.5a.75.75 0 001.5 0v-2.5h2.5a.75.75 0 000-1.5h-2.5v-2.5z" clip-rule="evenodd" />
                            </svg>
                        </span>
                        <span>Add Provider & Update Table</span>
                    </button>
                </div>
            </details>
        </section>
        
        <!-- Analysis Section -->
        <section class="tool-section analysis-section" aria-labelledby="analysis-heading">
            <details id="analysisDetails" open>
                <summary role="button" aria-expanded="true" class="section-title-summary" tabindex="0">
                    <h2 id="analysis-heading" class="section-title">
                        <span role="img" aria-label="Analysis icon">üìä</span>
                        Table Analysis
                    </h2>
                </summary>
                <div class="analysis-content">
                    <button id="analyzeBtn" class="btn" aria-label="Analyze current table data" type="button">
                        <span class="icon" aria-hidden="true">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd" />
                            </svg>
                        </span>
                        <span>Analyze Current Table</span>
                    </button>
                    
                    <output id="analysisMarkdownOutput" 
                            class="analysis-markdown-output" 
                            role="region"
                            aria-label="Analysis results"
                            aria-live="polite">
                        Analysis results will appear here.
                    </output>
                </div>
            </details>
        </section>

        <!-- Output Section -->
        <section class="tool-section output-section" aria-labelledby="output-heading">
            <h2 id="output-heading" class="section-title">
                <span role="img" aria-label="Output icon">üìÑ</span>
                Formatted Output
            </h2>
            
            <div class="output-controls">
                <label for="outputFormat">Output Format:</label>
                <select id="outputFormat" aria-label="Select output format">
                    <option value="markdown" selected>Markdown Table</option>
                    <option value="generic_json">Generic JSON Array</option>
                    <option value="service_provider_json">Service/Provider JSON</option>
                    <option value="html">HTML Table</option>
                </select>
                
                <div class="output-stats" id="outputStats" aria-live="polite">
                    <!-- Stats will be shown here -->
                </div>
            </div>
            
            <div class="form-group">
                <label for="output">Generated output:</label>
                <textarea 
                    id="output" 
                    readonly 
                    aria-label="Generated output in selected format"
                    placeholder="Generated output will appear here after parsing a table..."
                    rows="10"></textarea>
            </div>
        </section>
    </main>

    <!-- Accessibility and Status Messages -->
    <div id="notification" class="notification" role="alert" aria-live="polite" aria-atomic="true"></div>
    
    <!-- Loading indicator -->
    <div id="loadingIndicator" class="loading-indicator" aria-hidden="true">
        <div class="loading-spinner"></div>
        <span>Processing...</span>
    </div>

    <!-- Screen reader only styles -->
    <style>
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
        
        
        .form-help {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-top: 0.25rem;
            line-height: 1.4;
        }
        
        .info-banner {
            margin-bottom: var(--spacing-lg);
            padding: var(--spacing-md);
            background: var(--info-bg);
            border: 1px solid var(--info-color);
            border-left: 4px solid var(--info-color);
            border-radius: var(--border-radius);
            font-size: 0.9rem;
            line-height: 1.5;
        }
        
        .keyboard-shortcuts {
            margin-left: auto;
            color: var(--text-secondary);
            font-size: 0.8rem;
        }
        
        .keyboard-shortcuts kbd {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius-sm);
            padding: 0.2rem 0.4rem;
            font-size: 0.75rem;
            font-family: var(--font-family-mono);
        }
        
        .control-group {
            display: flex;
            gap: var(--spacing-sm);
            align-items: center;
        }
        
        .output-stats {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-left: auto;
        }
        
        .loading-indicator {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--input-bg);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-xl);
            box-shadow: var(--shadow-xl);
            z-index: 9998;
            display: none;
            align-items: center;
            gap: var(--spacing-md);
        }
        
        .loading-spinner {
            width: 24px;
            height: 24px;
            border: 3px solid var(--border-color);
            border-top: 3px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
    </style>


</body>

</html>
