<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MD Table to PDF - Beautiful Markdown Table Converter</title>
    <link rel="icon" href="../favicon.ico" sizes="any">
    <link rel="icon" href="./favicon.svg" type="image/svg+xml">
    <meta name="description" content="Easily convert markdown tables to PDF format with our beautiful, intuitive tool. Features dark mode, real-time preview, and instant downloads.">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="">
    
    <!-- Only keeping jsPDF as PDF generation is complex -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>
    
    <style>
 *{ box-sizing: border-box;} :root{ --primary-color: #6366f1; --primary-hover: #4f46e5; --secondary-color: #1e293b; --success-color: #10b981; --error-color: #ef4444; --background-color: #f8fafc; --surface-color: #ffffff; --text-color: #1e293b; --text-secondary: #64748b; --border-color: #e2e8f0; --table-header: #f1f5f9; --table-row-even: #f8fafc; --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05); --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1); --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1); --radius: 12px; --transition: all 0.2s ease;} [data-theme="dark"]{ --primary-color: #818cf8; --primary-hover: #6366f1; --secondary-color: #f1f5f9; --background-color: #0f172a; --surface-color: #1e293b; --text-color: #f1f5f9; --text-secondary: #94a3b8; --border-color: #334155; --table-header: #334155; --table-row-even: #1e293b;} body{ font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif; line-height: 1.6; color: var(--text-color); background-color: var(--background-color); margin: 0; padding: 0; min-height: 100vh; display: flex; align-items: center; justify-content: center; transition: var(--transition);} .container{ background-color: var(--surface-color); border-radius: var(--radius); box-shadow: var(--shadow-lg); padding: 2.5rem; max-width: 1000px; width: 90%; margin: 2rem; animation: slideUp 0.4s ease-out; transition: var(--transition);} @keyframes slideUp{ from{ opacity: 0; transform: translateY(20px);} to{ opacity: 1; transform: translateY(0);}} .header{ display: flex; align-items: center; justify-content: space-between; margin-bottom: 2rem; flex-wrap: wrap; gap: 1rem;} h1{ color: var(--text-color); margin: 0; font-size: 2rem; font-weight: 700; display: flex; align-items: center; gap: 0.75rem;} .theme-toggle{ background: var(--border-color); border: none; padding: 0.5rem; border-radius: 8px; cursor: pointer; transition: var(--transition); display: flex; align-items: center; justify-content: center;} .theme-toggle:hover{ background: var(--table-header); transform: scale(1.05);} .input-section{ margin-bottom: 1.5rem;} label{ display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--text-color); font-size: 0.875rem; text-transform: uppercase; letter-spacing: 0.025em;} .textarea-wrapper{ position: relative;} textarea{ width: 100%; min-height: 200px; padding: 1rem; border: 2px solid var(--border-color); border-radius: 8px; font-family: 'Fira Code', 'Courier New', monospace; font-size: 0.875rem; resize: vertical; transition: var(--transition); background-color: var(--surface-color); color: var(--text-color);} textarea:focus{ outline: none; border-color: var(--primary-color); box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);} .button-group{ display: flex; gap: 1rem; margin-bottom: 1.5rem; flex-wrap: wrap;} button{ background-color: var(--primary-color); border: none; color: white; padding: 0.75rem 1.5rem; font-size: 1rem; font-weight: 600; cursor: pointer; border-radius: 8px; transition: var(--transition); display: flex; align-items: center; gap: 0.5rem; position: relative; overflow: hidden;} button:hover{ background-color: var(--primary-hover); transform: translateY(-1px); box-shadow: var(--shadow-md);} button:active{ transform: translateY(0);} button:disabled{ opacity: 0.5; cursor: not-allowed;} button.secondary{ background-color: transparent; color: var(--primary-color); border: 2px solid var(--primary-color);} button.secondary:hover{ background-color: var(--primary-color); color: white;} .preview-section{ background-color: var(--background-color); border: 2px solid var(--border-color); border-radius: 8px; padding: 1.5rem; margin-bottom: 1rem; min-height: 100px; overflow-x: auto; transition: var(--transition);} .preview-empty{ color: var(--text-secondary); text-align: center; font-style: italic;} table{ border-collapse: collapse; width: 100%; background-color: var(--surface-color); border-radius: 8px; overflow: hidden; box-shadow: var(--shadow-sm);} th, td{ padding: 0.75rem 1rem; text-align: left; border-bottom: 1px solid var(--border-color);} th{ background-color: var(--table-header); font-weight: 600; text-transform: uppercase; font-size: 0.75rem; letter-spacing: 0.05em; color: var(--text-secondary);} tr:nth-child(even){ background-color: var(--table-row-even);} tr:hover{ background-color: var(--table-header);} .status{ display: flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1rem; border-radius: 8px; font-size: 0.875rem; font-weight: 500; margin-top: 1rem; transition: var(--transition); opacity: 0; transform: translateY(-10px);} .status.show{ opacity: 1; transform: translateY(0);} .status.success{ background-color: rgba(16, 185, 129, 0.1); color: var(--success-color); border: 1px solid rgba(16, 185, 129, 0.2);} .status.error{ background-color: rgba(239, 68, 68, 0.1); color: var(--error-color); border: 1px solid rgba(239, 68, 68, 0.2);} .status.info{ background-color: rgba(99, 102, 241, 0.1); color: var(--primary-color); border: 1px solid rgba(99, 102, 241, 0.2);} .loading{ display: inline-block; width: 16px; height: 16px; border: 2px solid transparent; border-top-color: currentColor; border-radius: 50%; animation: spin 0.8s linear infinite;} @keyframes spin{ to{ transform: rotate(360deg);}} .ripple{ position: absolute; border-radius: 50%; background: rgba(255, 255, 255, 0.5); transform: scale(0); animation: ripple 0.6s ease-out; pointer-events: none;} @keyframes ripple{ to{ transform: scale(4); opacity: 0;}} @media (max-width: 640px){ .container{ padding: 1.5rem; margin: 1rem;} h1{ font-size: 1.5rem;} .button-group{ flex-direction: column;} button{ width: 100%; justify-content: center;}}
    </style>
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>
                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                    <line x1="3" y1="9" x2="21" y2="9"/>
                    <line x1="3" y1="15" x2="21" y2="15"/>
                    <line x1="9" y1="9" x2="9" y2="21"/>
                    <line x1="15" y1="9" x2="15" y2="21"/>
                </svg>
                Markdown Table Converter
            </h1>
            <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme">
                <svg class="sun-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: none;">
                    <circle cx="12" cy="12" r="5"/>
                    <line x1="12" y1="1" x2="12" y2="3"/>
                    <line x1="12" y1="21" x2="12" y2="23"/>
                    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
                    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
                    <line x1="1" y1="12" x2="3" y2="12"/>
                    <line x1="21" y1="12" x2="23" y2="12"/>
                    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
                    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
                </svg>
                <svg class="moon-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                </svg>
            </button>
        </div>

        <div class="input-section">
            <label for="input">Markdown Table Input</label>
            <div class="textarea-wrapper">
                <textarea id="input" placeholder="Enter your markdown table here..." spellcheck="false">| Header 1 | Header 2 | Header 3 |
|----------|----------|----------|
| Row 1, Col 1 | Row 1, Col 2 | Row 1, Col 3 |
| Row 2, Col 1 | Row 2, Col 2 | Row 2, Col 3 |</textarea>
            </div>
        </div>

        <div class="button-group">
            <button id="copyBtn" onclick="copyToClipboard()">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                    <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
                </svg>
                Copy HTML
            </button>
            <button id="downloadBtn" onclick="generatePDF()">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                    <polyline points="7 10 12 15 17 10"/>
                    <line x1="12" y1="15" x2="12" y2="3"/>
                </svg>
                Download PDF
            </button>
            <button class="secondary" onclick="clearInput()">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="3 6 5 6 21 6"/>
                    <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
                </svg>
                Clear
            </button>
        </div>

        <label for="preview">Preview</label>
        <div id="preview" class="preview-section">
            <div class="preview-empty">Your rendered table will appear here...</div>
        </div>

        <div id="status" class="status"></div>
    </div>

    <script>
        // Simple markdown table parser (replacing marked.js)
        function parseMarkdownTable(markdown) {
            const lines = markdown.trim().split('\n').filter(line => line.trim());
            if (lines.length < 2) return null;

            const rows = [];
            let isHeader = true;

            for (let i = 0; i < lines.length; i++) {
                const line = lines[i].trim();
                
                // Skip separator line
                if (line.match(/^\|?[\s-:|]+\|?$/)) {
                    isHeader = false;
                    continue;
                }

                // Parse cells
                const cells = line.split('|')
                    .map(cell => cell.trim())
                    .filter(cell => cell);

                if (cells.length > 0) {
                    rows.push({ cells, isHeader: isHeader && i === 0 });
                }
            }

            return rows.length > 0 ? rows : null;
        }

        function renderTable(rows) {
            if (!rows) return '';

            let html = '<table>';
            rows.forEach(row => {
                html += '<tr>';
                const tag = row.isHeader ? 'th' : 'td';
                row.cells.forEach(cell => {
                    html += `<${tag}>${escapeHtml(cell)}</${tag}>`;
                });
                html += '</tr>';
            });
            html += '</table>';

            return html;
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // Theme management
        function initTheme() {
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-theme', savedTheme);
            updateThemeIcon(savedTheme);
        }

        function toggleTheme() {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            updateThemeIcon(newTheme);
        }

        function updateThemeIcon(theme) {
            const sunIcon = document.querySelector('.sun-icon');
            const moonIcon = document.querySelector('.moon-icon');
            if (theme === 'dark') {
                sunIcon.style.display = 'block';
                moonIcon.style.display = 'none';
            } else {
                sunIcon.style.display = 'none';
                moonIcon.style.display = 'block';
            }
        }

        // Status management
        function showStatus(message, type = 'info') {
            const status = document.getElementById('status');
            status.className = `status ${type} show`;
            
            let icon = '';
            if (type === 'success') {
                icon = '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>';
            } else if (type === 'error') {
                icon = '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg>';
            } else {
                icon = '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>';
            }
            
            status.innerHTML = `${icon} <span>${message}</span>`;
            
            setTimeout(() => {
                status.classList.remove('show');
            }, 3000);
        }

        // Table rendering
        let renderTimeout;
        function handleInput() {
            clearTimeout(renderTimeout);
            renderTimeout = setTimeout(() => {
                const input = document.getElementById('input').value;
                const preview = document.getElementById('preview');
                
                if (!input.trim()) {
                    preview.innerHTML = '<div class="preview-empty">Your rendered table will appear here...</div>';
                    return;
                }

                const rows = parseMarkdownTable(input);
                if (rows) {
                    const html = renderTable(rows);
                    preview.innerHTML = html;
                    showStatus('Table rendered successfully', 'success');
                } else {
                    preview.innerHTML = '<div class="preview-empty">Invalid markdown table format</div>';
                    showStatus('Invalid table format', 'error');
                }
            }, 300);
        }

        // Button actions
        function copyToClipboard() {
            const preview = document.getElementById('preview');
            const table = preview.querySelector('table');
            
            if (!table) {
                showStatus('No table to copy', 'error');
                return;
            }

            navigator.clipboard.writeText(table.outerHTML)
                .then(() => showStatus('Table HTML copied to clipboard', 'success'))
                .catch(() => showStatus('Failed to copy to clipboard', 'error'));
        }

        function generatePDF() {
            const input = document.getElementById('input').value;
            const rows = parseMarkdownTable(input);
            
            if (!rows) {
                showStatus('No valid table to export', 'error');
                return;
            }

            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();

            // Separate headers and data
            const headers = rows[0]?.isHeader ? rows[0].cells : [];
            const data = rows.slice(headers.length ? 1 : 0).map(row => row.cells);

            doc.autoTable({
                head: headers.length ? [headers] : [],
                body: data,
                startY: 20,
                styles: { 
                    fontSize: 10,
                    cellPadding: 5
                },
                headStyles: {
                    fillColor: [99, 102, 241],
                    textColor: 255
                },
                alternateRowStyles: {
                    fillColor: [245, 247, 250]
                }
            });

            // Add footer
            const pageCount = doc.internal.getNumberOfPages();
            const date = new Date().toLocaleDateString();
            doc.setFontSize(8);
            doc.setTextColor(150);
            
            for (let i = 1; i <= pageCount; i++) {
                doc.setPage(i);
                doc.text(
                    `Generated on ${date} - Page ${i} of ${pageCount}`,
                    doc.internal.pageSize.width / 2,
                    doc.internal.pageSize.height - 10,
                    { align: 'center' }
                );
            }

            doc.save('table.pdf');
            showStatus('PDF downloaded successfully', 'success');
        }

        function clearInput() {
            document.getElementById('input').value = '';
            document.getElementById('preview').innerHTML = '<div class="preview-empty">Your rendered table will appear here...</div>';
            showStatus('Input cleared', 'info');
        }

        // Ripple effect for buttons
        function addRippleEffect(button) {
            button.addEventListener('click', function(e) {
                const ripple = document.createElement('span');
                ripple.className = 'ripple';
                
                const rect = this.getBoundingClientRect();
                const size = Math.max(rect.width, rect.height);
                const x = e.clientX - rect.left - size / 2;
                const y = e.clientY - rect.top - size / 2;
                
                ripple.style.width = ripple.style.height = size + 'px';
                ripple.style.left = x + 'px';
                ripple.style.top = y + 'px';
                
                this.appendChild(ripple);
                
                setTimeout(() => ripple.remove(), 600);
            });
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            initTheme();
            
            const input = document.getElementById('input');
            input.addEventListener('input', handleInput);
            
            // Add ripple effect to all buttons
            document.querySelectorAll('button').forEach(addRippleEffect);
            
            // Initial render
            handleInput();
        });
    </script>
</body>

</html>